# Default values for smartgrid
namespace: smartgrid

# Global settings
global:
  imageRegistry: ""
  imagePullPolicy: IfNotPresent

# Service configurations
services:
  apiGateway:
    enabled: true
    replicaCount: 3
    image:
      repository: smartgrid-api-gateway
      tag: latest
    service:
      type: ClusterIP
      port: 5000
  
  dataIngestion:
    enabled: true
    replicaCount: 3
    image:
      repository: smartgrid-data-ingestion
      tag: latest
    service:
      type: ClusterIP
      port: 5001
  
  dataProcessing:
    enabled: true
    replicaCount: 2
    image:
      repository: smartgrid-data-processing
      tag: latest
    service:
      type: ClusterIP
      port: 5001
  
  analytics:
    enabled: true
    replicaCount: 2
    image:
      repository: smartgrid-analytics
      tag: latest
    service:
      type: ClusterIP
      port: 5002
  
  notification:
    enabled: true
    replicaCount: 2
    image:
      repository: smartgrid-notification
      tag: latest
    service:
      type: ClusterIP
      port: 5003
  
  userManagement:
    enabled: true
    replicaCount: 2
    image:
      repository: smartgrid-user-management
      tag: latest
    service:
      type: ClusterIP
      port: 5004
  
  weatherProducer:
    enabled: true
    replicaCount: 1
    image:
      repository: smartgrid-weather-producer
      tag: latest
    service:
      type: ClusterIP
      port: 5005
  
  sparkStreaming:
    enabled: true
    replicaCount: 1
    image:
      repository: smartgrid-spark-streaming
      tag: latest
    service:
      type: ClusterIP
      port: 4040
  
  frontend:
    enabled: true
    replicaCount: 2
    image:
      repository: smartgrid-frontend
      tag: latest
    service:
      type: ClusterIP
      port: 8080

# Infrastructure
infrastructure:
  postgres:
    enabled: true
    host: smartgrid-postgres
    port: 5432
    database: smartgrid_db
    user: smartgrid
  
  kafka:
    enabled: true
    broker: smartgrid-kafka:9092
    topicSensorData: smartgrid-sensor-data
    topicMeterReadings: smartgrid-meter-readings
    topicAlerts: smartgrid-alerts
    topicNotifications: smartgrid-notifications
    topicWeather: smartgrid-weather-data
    groupId: data-processing-service-group
  
  consul:
    enabled: true
    host: smartgrid-consul
    port: 8500
  
  schemaRegistry:
    enabled: true
    url: http://smartgrid-schema-registry:8081
  
  mlflow:
    enabled: true
    trackingUri: http://smartgrid-mlflow:5000

# Auto-scaling
autoscaling:
  enabled: true
  minReplicas: 2
  maxReplicas: 10
  targetCPUUtilizationPercentage: 70
  targetMemoryUtilizationPercentage: 80

# Secrets (should be managed via external secret management in production)
secrets:
  postgresPassword: smartgrid123
  jwtSecret: your-secret-key-change-in-production
